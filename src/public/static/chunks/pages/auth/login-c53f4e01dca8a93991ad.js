_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[24],{ODaL:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.setLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.error&&(n.error=e.error);e.warn&&(n.warn=e.warn);e.debug&&(n.debug=e.debug)},t.proxyLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0;try{if("undefined"===typeof window)return e;var r={},o=function(e){r[e]=function(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];n[e](r,...i);var c="".concat(t,"/_log"),s=new URLSearchParams({level:e,code:r,message:JSON.stringify(i.map((e=>e instanceof Error?{name:e.name,message:e.message,stack:e.stack}:e)))});return navigator.sendBeacon?navigator.sendBeacon(c,s):fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:s})}};for(var i in e)o(i);return r}catch(a){return n}},t.default=void 0;var n={error(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.error("[next-auth][error][".concat(e.toLowerCase(),"]"),"\nhttps://next-auth.js.org/errors#".concat(e.toLowerCase()),...n)},warn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.warn("[next-auth][warn][".concat(e.toLowerCase(),"]"),"\nhttps://next-auth.js.org/warnings#".concat(e.toLowerCase()),...n)},debug(t){var n,r;if(null!==(n=e)&&void 0!==n&&null!==(r=n.env)&&void 0!==r&&r._NEXTAUTH_DEBUG){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];console.log("[next-auth][debug][".concat(t.toLowerCase(),"]"),...i)}}};var r=n;t.default=r}).call(this,n("8oxB"))},XJ4Q:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getSession=b,t.signIn=T,t.signOut=x,t.default=t.Provider=t.useSession=void 0;var r,o=n("q1tI"),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("ODaL")),a=(r=n("vFaK"))&&r.__esModule?r:{default:r};function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,c,"next",e)}function c(e){d(i,r,o,a,c,"throw",e)}a(void 0)}))}}var v={baseUrl:(0,a.default)(e.env.NEXTAUTH_URL||e.env.VERCEL_URL).baseUrl,basePath:(0,a.default)(e.env.NEXTAUTH_URL).basePath,keepAlive:0,clientMaxAge:0,_clientLastSync:0,_clientSyncTimer:null,_eventListenersAdded:!1,_clientSession:void 0,_clientId:Math.random().toString(36).substring(2)+Date.now().toString(36),_getSession:()=>{}},p=(0,i.proxyLogger)(i.default,v.basePath);if("undefined"!==typeof window&&!1===v._eventListenersAdded){var h,g;v._eventListenersAdded=!0,window.addEventListener("storage",function(){var e=f((function*(e){if("nextauth.message"===e.key){var t=JSON.parse(e.newValue);if("session"===(null===t||void 0===t?void 0:t.event)&&t.data){if(v._clientId===t.clientId)return;yield v._getSession({event:"storage"})}}}));return function(t){return e.apply(this,arguments)}}()),"undefined"!==typeof document.hidden?(h="hidden",g="visibilitychange"):"undefined"!==typeof document.msHidden?(h="msHidden",g="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(h="webkitHidden",g="webkitvisibilitychange");document.addEventListener("visibilitychange",(()=>!document[h]&&v._getSession({event:g})),!1)}var y=function(){var{baseUrl:e,basePath:t,clientMaxAge:n,keepAlive:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&(v.baseUrl=e),t&&(v.basePath=t),n&&(v.clientMaxAge=n),r&&(v.keepAlive=r,"undefined"!==typeof window&&r>0&&(null!==v._clientSyncTimer&&clearTimeout(v._clientSyncTimer),v._clientSyncTimer=setTimeout(f((function*(){v._clientSession&&(yield v._getSession({event:"timer"}))})),1e3*r)))};function b(){return w.apply(this,arguments)}function w(){return(w=f((function*(){var{ctx:e,req:t=(null===e||void 0===e?void 0:e.req),triggerEvent:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=A(),o=t?{headers:{cookie:t.headers.cookie}}:{},i=yield L("".concat(r,"/session"),o);return n&&N({event:"session",data:{trigger:"getSession"}}),i}))).apply(this,arguments)}function m(){return O.apply(this,arguments)}function O(){return(O=f((function*(){var{ctx:e,req:t=(null===e||void 0===e?void 0:e.req)}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=A(),r=t?{headers:{cookie:t.headers.cookie}}:{},o=yield L("".concat(n,"/csrf"),r);return o&&o.csrfToken?o.csrfToken:null}))).apply(this,arguments)}var j=function(){var e=f((function*(){var e=A();return L("".concat(e,"/providers"))}));return function(){return e.apply(this,arguments)}}(),S=(0,o.createContext)(),_=e=>{var t=(0,o.useContext)(S);return void 0===t?P(e):t};t.useSession=_;var P=e=>{var[t,n]=(0,o.useState)(e),[r,i]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{var e=function(){var e=f((function*(){var{event:e=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=null!==e,r=!(!e||"storage"!==e),o=v.clientMaxAge,a=parseInt(v._clientLastSync),c=Math.floor((new Date).getTime()/1e3),s=v._clientSession;if(!1===r&&void 0!==s){if(0===o&&!0!==t)return;if(o>0&&null===s)return;if(o>0&&c<a+o)return}void 0===s&&(v._clientSession=null),v._clientLastSync=Math.floor((new Date).getTime()/1e3);var u=!1===r,l=yield b({triggerEvent:u});v._clientSession=l,n(l),i(!1)}catch(d){p.error("CLIENT_USE_SESSION_ERROR",d)}}));return function(){return e.apply(this,arguments)}}();v._getSession=e,e()})),[t,r]};function T(e){return k.apply(this,arguments)}function k(){return(k=f((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{callbackUrl:r=window.location,redirect:o=!0}=t,i=A(),a=yield j();if(e in a){var c="credentials"===a[e].type,s=c?"".concat(i,"/callback/").concat(e):"".concat(i,"/signin/").concat(e),l={method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(u(u({},t),{},{csrfToken:yield m(),callbackUrl:r,json:!0}))},d="".concat(s,"?").concat(new URLSearchParams(n)),f=yield fetch(d,l),p=yield f.json();if(o||!c){var h,g=null!==(h=p.url)&&void 0!==h?h:r;return window.location=g,void(g.includes("#")&&window.location.reload())}var y=new URL(p.url).searchParams.get("error");return f.ok&&(yield v._getSession({event:"storage"})),{error:y,status:f.status,ok:f.ok,url:y?null:p.url}}window.location="".concat(i,"/signin?callbackUrl=").concat(encodeURIComponent(r))}))).apply(this,arguments)}function x(){return E.apply(this,arguments)}function E(){return(E=f((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{callbackUrl:t=window.location,redirect:n=!0}=e,r=A(),o={method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({csrfToken:yield m(),callbackUrl:t,json:!0})},i=yield fetch("".concat(r,"/signout"),o),a=yield i.json();if(N({event:"session",data:{trigger:"signout"}}),n){var c,s=null!==(c=a.url)&&void 0!==c?c:t;return window.location=s,void(s.includes("#")&&window.location.reload())}return yield v._getSession({event:"storage"}),a}))).apply(this,arguments)}var U=e=>{var{children:t,session:n,options:r}=e;return y(r),(0,o.createElement)(S.Provider,{value:_(n)},t)};t.Provider=U;var L=function(){var e=f((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=yield fetch(e,t),r=yield n.json();return Promise.resolve(Object.keys(r).length>0?r:null)}catch(o){return p.error("CLIENT_FETCH_ERROR",e,o),Promise.resolve(null)}}));return function(t){return e.apply(this,arguments)}}(),A=()=>"undefined"===typeof window?(e.env.NEXTAUTH_URL||p.warn("NEXTAUTH_URL","NEXTAUTH_URL environment variable not set"),"".concat(v.baseUrl).concat(v.basePath)):v.basePath,N=e=>{if("undefined"!==typeof localStorage){var t=Math.floor((new Date).getTime()/1e3);localStorage.setItem("nextauth.message",JSON.stringify(u(u({},e),{},{clientId:v._clientId,timestamp:t})))}},C={getSession:b,getCsrfToken:m,getProviders:j,useSession:_,signIn:T,signOut:x,Provider:U,setOptions:y,options:y,session:b,providers:j,csrfToken:m,signin:T,signout:x};t.default=C}).call(this,n("8oxB"))},cpVT:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},fY9I:function(e,t,n){"use strict";n.r(t);var r=n("vJKn"),o=n.n(r),i=n("rg98"),a=n("nKUr"),c=n("xvhg"),s=n("cpVT"),u=n("o0SM"),l=n("jM59"),d=n("iae6"),f=n("r9w1"),v=n("Z3vd"),p=n("KYPV"),h=n("6f9l"),g=n.n(h),y=n("vDqi"),b=n.n(y),w=n("q1tI");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=e.csrfToken,n=Object(w.useState)(!1),r=n[0],c=n[1],s=Object(w.useState)(!1),h=s[0],y=s[1],m=Object(p.c)({initialValues:{username:"",password:"",csrfToken:t},onSubmit:function(){var e=Object(i.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!1),y(!0),e.next=4,b.a.post("/api/auth/callback/credentials",O({},t)).then((function(e){return window.location.replace("admin"===t.username?"/admin":"/")})).catch((function(e){y(!1),c(!0)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});return Object(a.jsx)(l.a,{children:Object(a.jsxs)(u.a,{children:[h&&Object(a.jsx)(d.a,{className:"mb-5"}),r&&Object(a.jsx)("p",{className:"w-full mb-8",children:"An error has occurred with your login. Please try again."}),Object(a.jsxs)("form",{onSubmit:m.handleSubmit,children:[Object(a.jsx)(f.a,{variant:"filled",className:"mb-5",fullWidth:!0,color:"secondary",size:"small",name:"username",label:"Username",value:m.values.username,onChange:m.handleChange}),Object(a.jsx)(f.a,{variant:"filled",fullWidth:!0,size:"small",className:"mb-10",name:"password",color:"secondary",label:"Password",type:"password",value:m.values.password,onChange:m.handleChange}),Object(a.jsx)(v.a,{className:g.a.submit,disabled:m.isSubmitting,type:"submit",children:"Login"})]})]})})}var S=n("nGE6"),_=n("20a2"),P=function(e){var t=e.csrfToken,n=Object(_.useRouter)(),r=Object(S.useSession)(),o=Object(c.a)(r,2),i=o[0],s=o[1];return Object(w.useEffect)((function(){!s&&i&&n.push("/admin")})),Object(a.jsx)(j,{csrfToken:t})};P.getInitialProps=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.csrfToken)(t);case 2:return e.t0=e.sent,e.abrupt("return",{csrfToken:e.t0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=P},nGE6:function(e,t,n){e.exports=n("XJ4Q").default},vFaK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="http://localhost:3000",n="/api/auth";e||(e="".concat(t).concat(n));var r=e.startsWith("http:")?"http":"https";e=e.replace(/^https?:\/\//,"").replace(/\/$/,"");var[o,...i]=e.split("/"),a=o?"".concat(r,"://").concat(o):t,c=i.length>0?"/".concat(i.join("/")):n;return{baseUrl:a,basePath:c}}},xvhg:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return o}))},yzXZ:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return n("fY9I")}])}},[["yzXZ",0,2,1,3,7,12]]]);